{{#*inline "content"}}
    <p>
        {{message_0}}
    </p>

    <script>
        var input_1 = document.getElementById("input_1");
        var input_2 = document.getElementById("input_2");
        var button_1 = document.getElementById("button_1");
        var button_2 = document.getElementById("button_2");

        function handleMessage(event) {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", '/messages/fromxhr', true);
            xhr.setRequestHeader("Content-Type", "application/json");

            xhr.onreadystatechange = function() {
                if (this.readyState === XMLHttpRequest.DONE && this.status === 201) {
                } else {
                    console.log("error: " + this.status);
                }
            }

            let payload;
            if (event.target.id === button_1.id) {
                payload = { index: 1, body: input_1.value };
            }

            if (event.target.id === button_2.id) {
                payload = { index: 2, body: input_2.value) };
            }

            if (payload) {
                xhr.send(JSON.stringify(payload));
            }
        }

        button_1.addEventListener("click", handleMessage);
        button_2.addEventListener("click", handleMessage);
    </script>
{{/inline}}
{{~> application~}}
